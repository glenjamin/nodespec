<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">

<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>nodespec module - nodespec</title><link rel="stylesheet" type="text/css" href="../styles/main.css"><script language=JavaScript src="../javascript/main.js"></script><script language=JavaScript src="../javascript/prettify.js"></script><script language=JavaScript src="../javascript/searchdata.js"></script></head><body class="ContentPage" onLoad="NDOnLoad();prettyPrint();"><script language=JavaScript><!--
if (browserType) {document.write("<div class=" + browserType + ">");if (browserVer) {document.write("<div class=" + browserVer + ">"); }}// --></script>

<!--  Generated by Natural Docs, version 1.52 -->
<!--  http://www.naturaldocs.org  -->

<!-- saved from url=(0026)http://www.naturaldocs.org -->




<div id=Content><div class="CFile"><div class=CTopic id=MainTopic><h1 class=CTitle><a name="nodespec_module"></a>nodespec module</h1><div class=CBody><p>The top-level container object for the nodespec test suite.</p><h4 class=CHeading>Requiring</h4><blockquote><pre>var nodespec = require('nodespec');</pre></blockquote><p>The nodespec module when included functions as the collection for all example groups and behaviours you wish to describe in your system, each module that wants to describe tests should require nodespec and use the describe method to describe groups of examples.</p><h4 class=CHeading>Normal usage</h4><blockquote><pre>var nodespec = require('nodespec');
nodespec.describe(&quot;test behaviour&quot;, function() {
  // ... test definitions here
});
nodespec.exec();</pre></blockquote><h4 class=CHeading>Advanced usage</h4><p>As well as acting like a singleton for the test suite, it is also callable as a factory-style method if more than one top-level container per script execution is needed for some reason (see <a href="#nodespec" class=LFunction id=link12 onMouseOver="ShowTip(event, 'tt12', 'link12')" onMouseOut="HideTip('tt12')">nodespec</a>).</p><blockquote><pre>var nodespec1 = require('nodespec')(&quot;top-level 1&quot;);
var nodespec2 = require('nodespec')(&quot;top-level 2&quot;);</pre></blockquote><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SMain"><td class=SEntry><a href="#nodespec_module" >nodespec module</a></td><td class=SDescription>The top-level container object for the nodespec test suite.</td></tr><tr class="SGroup"><td class=SEntry><a href="#Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#nodespec" >nodespec</a></td><td class=SDescription>Create another top-level nodespec container, keyed by name</td></tr><tr class="SClass"><td class=SEntry><a href="#Nodespec" >Nodespec</a></td><td class=SDescription></td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Nodespec.Constants" >Constants</a></td><td class=SDescription></td></tr><tr class="SConstant SIndent2 SMarked"><td class=SEntry><a href="#Nodespec.DEFAULT_HOOK_TIMEOUT" >DEFAULT_HOOK_TIMEOUT</a></td><td class=SDescription>Defaults to 2 seconds</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Nodespec.Properties" >Properties</a></td><td class=SDescription></td></tr><tr class="SProperty SIndent2 SMarked"><td class=SEntry><a href="#Nodespec.assert" >assert</a></td><td class=SDescription>The assert object to be returned when accessing assert in a test context</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Nodespec.Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Nodespec.abandon" id=link1 onMouseOver="ShowTip(event, 'tt1', 'link1')" onMouseOut="HideTip('tt1')">abandon</a></td><td class=SDescription>Forget this nodespec function</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Nodespec.require" id=link2 onMouseOver="ShowTip(event, 'tt2', 'link2')" onMouseOut="HideTip('tt2')">require</a></td><td class=SDescription>Require nodespec test definition files without executing them</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Nodespec.describe" id=link3 onMouseOver="ShowTip(event, 'tt3', 'link3')" onMouseOut="HideTip('tt3')">describe</a></td><td class=SDescription>Create an <a href="example-group-js.html#ExampleGroup" class=LClass id=link4 onMouseOver="ShowTip(event, 'tt4', 'link4')" onMouseOut="HideTip('tt4')">ExampleGroup</a> to describe some behaviour</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Nodespec.before" id=link5 onMouseOver="ShowTip(event, 'tt5', 'link5')" onMouseOut="HideTip('tt5')">before</a></td><td class=SDescription>Add a before hook to be run before all specs in the suite</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Nodespec.after" id=link6 onMouseOver="ShowTip(event, 'tt6', 'link6')" onMouseOut="HideTip('tt6')">after</a></td><td class=SDescription>Add an after hook to be run after all specs in the suite</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Nodespec.mockWith" id=link7 onMouseOver="ShowTip(event, 'tt7', 'link7')" onMouseOut="HideTip('tt7')">mockWith</a></td><td class=SDescription>Load a pre-defined mocking library</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Nodespec.registerFormatter" id=link8 onMouseOver="ShowTip(event, 'tt8', 'link8')" onMouseOut="HideTip('tt8')">registerFormatter</a></td><td class=SDescription>Add an additional formatter</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Nodespec.run" id=link9 onMouseOver="ShowTip(event, 'tt9', 'link9')" onMouseOut="HideTip('tt9')">run</a></td><td class=SDescription>Run all specs currently defined for this suite</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#Nodespec.exec" id=link10 onMouseOver="ShowTip(event, 'tt10', 'link10')" onMouseOut="HideTip('tt10')">exec</a></td><td class=SDescription>Execute all specs currently defined for this suite</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#Nodespec.instrument" id=link11 onMouseOver="ShowTip(event, 'tt11', 'link11')" onMouseOut="HideTip('tt11')">instrument</a></td><td class=SDescription>Add coverage instrumentation to some source code, necessary to get coverage if you are using eval or the vm module as part of the test suite.</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Functions"></a>Functions</h3></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="nodespec"></a>nodespec</h3><div class=CBody><p>Create another top-level nodespec container, keyed by name</p><p>Note that this function is not a method of the nodespec module, it is the callable module itself.</p><h4 class=CHeading>Arguments</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>name</td><td class=CDLDescription>{string} Name for the separate context, subsequent calls with the same name will return the same object</td></tr><tr><td class=CDLEntry>deps</td><td class=CDLDescription>{options} Allows for dependency injection of constructor functions, omitted keys will fall back to defaults</td></tr><tr><td class=CDLEntry>deps.ExampleGroup</td><td class=CDLDescription>defaults to <a href="example-group-js.html#ExampleGroup" class=LClass id=link13 onMouseOver="ShowTip(event, 'tt4', 'link13')" onMouseOut="HideTip('tt4')">ExampleGroup</a></td></tr><tr><td class=CDLEntry>deps.Example</td><td class=CDLDescription>defaults to <a href="example-js.html#Example" class=LClass id=link14 onMouseOver="ShowTip(event, 'tt13', 'link14')" onMouseOut="HideTip('tt13')">Example</a></td></tr><tr><td class=CDLEntry>deps.Context</td><td class=CDLDescription>defaults to &lt;Context&gt;</td></tr><tr><td class=CDLEntry>deps.Result</td><td class=CDLDescription>defaults to &lt;Result&gt;</td></tr><tr><td class=CDLEntry>deps.SingleResult</td><td class=CDLDescription>defaults to &lt;SingleResult&gt;</td></tr><tr><td class=CDLEntry>deps.Pending</td><td class=CDLDescription>defaults to &lt;Pending&gt;</td></tr><tr><td class=CDLEntry>deps.ExpectationError</td><td class=CDLDescription>defaults to assert.AssertionError</td></tr></table><h4 class=CHeading>Returns</h4><p>{function} A new <a href="#Nodespec" class=LClass >Nodespec</a> function, which is still callable as <a href="#nodespec" class=LFunction id=link15 onMouseOver="ShowTip(event, 'tt12', 'link15')" onMouseOut="HideTip('tt12')">nodespec</a></p><h4 class=CHeading>Usage</h4><blockquote><pre>var nodespec = require(&quot;nodespec&quot;);
var separate_nodespec = nodespec(&quot;separate stack&quot;,
                 {Context: AugmentedContext})</pre></blockquote><h4 class=CHeading>See Also</h4><p><a href="#Nodespec.abandon" class=LFunction id=link16 onMouseOver="ShowTip(event, 'tt1', 'link16')" onMouseOut="HideTip('tt1')">Nodespec.abandon</a></p></div></div></div>

<div class="CClass"><div class=CTopic><h2 class=CTitle><a name="Nodespec"></a>Nodespec</h2><div class=CBody><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SGroup"><td class=SEntry><a href="#Nodespec.Constants" >Constants</a></td><td class=SDescription></td></tr><tr class="SConstant SIndent1 SMarked"><td class=SEntry><a href="#Nodespec.DEFAULT_HOOK_TIMEOUT" >DEFAULT_HOOK_TIMEOUT</a></td><td class=SDescription>Defaults to 2 seconds</td></tr><tr class="SGroup"><td class=SEntry><a href="#Nodespec.Properties" >Properties</a></td><td class=SDescription></td></tr><tr class="SProperty SIndent1 SMarked"><td class=SEntry><a href="#Nodespec.assert" >assert</a></td><td class=SDescription>The assert object to be returned when accessing assert in a test context</td></tr><tr class="SGroup"><td class=SEntry><a href="#Nodespec.Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#Nodespec.abandon" id=link17 onMouseOver="ShowTip(event, 'tt1', 'link17')" onMouseOut="HideTip('tt1')">abandon</a></td><td class=SDescription>Forget this nodespec function</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#Nodespec.require" id=link18 onMouseOver="ShowTip(event, 'tt2', 'link18')" onMouseOut="HideTip('tt2')">require</a></td><td class=SDescription>Require nodespec test definition files without executing them</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#Nodespec.describe" id=link19 onMouseOver="ShowTip(event, 'tt3', 'link19')" onMouseOut="HideTip('tt3')">describe</a></td><td class=SDescription>Create an <a href="example-group-js.html#ExampleGroup" class=LClass id=link20 onMouseOver="ShowTip(event, 'tt4', 'link20')" onMouseOut="HideTip('tt4')">ExampleGroup</a> to describe some behaviour</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#Nodespec.before" id=link21 onMouseOver="ShowTip(event, 'tt5', 'link21')" onMouseOut="HideTip('tt5')">before</a></td><td class=SDescription>Add a before hook to be run before all specs in the suite</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#Nodespec.after" id=link22 onMouseOver="ShowTip(event, 'tt6', 'link22')" onMouseOut="HideTip('tt6')">after</a></td><td class=SDescription>Add an after hook to be run after all specs in the suite</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#Nodespec.mockWith" id=link23 onMouseOver="ShowTip(event, 'tt7', 'link23')" onMouseOut="HideTip('tt7')">mockWith</a></td><td class=SDescription>Load a pre-defined mocking library</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#Nodespec.registerFormatter" id=link24 onMouseOver="ShowTip(event, 'tt8', 'link24')" onMouseOut="HideTip('tt8')">registerFormatter</a></td><td class=SDescription>Add an additional formatter</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#Nodespec.run" id=link25 onMouseOver="ShowTip(event, 'tt9', 'link25')" onMouseOut="HideTip('tt9')">run</a></td><td class=SDescription>Run all specs currently defined for this suite</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#Nodespec.exec" id=link26 onMouseOver="ShowTip(event, 'tt10', 'link26')" onMouseOut="HideTip('tt10')">exec</a></td><td class=SDescription>Execute all specs currently defined for this suite</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#Nodespec.instrument" id=link27 onMouseOver="ShowTip(event, 'tt11', 'link27')" onMouseOut="HideTip('tt11')">instrument</a></td><td class=SDescription>Add coverage instrumentation to some source code, necessary to get coverage if you are using eval or the vm module as part of the test suite.</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Nodespec.Constants"></a>Constants</h3></div></div>

<div class="CConstant"><div class=CTopic><h3 class=CTitle><a name="Nodespec.DEFAULT_HOOK_TIMEOUT"></a>DEFAULT_HOOK_TIMEOUT</h3><div class=CBody><p>Defaults to 2 seconds</p><h4 class=CHeading>Returns</h4><p>number</p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Nodespec.Properties"></a>Properties</h3></div></div>

<div class="CProperty"><div class=CTopic><h3 class=CTitle><a name="Nodespec.assert"></a>assert</h3><div class=CBody><p>The assert object to be returned when accessing assert in a test context</p><p>Defaults to require(&lsquo;assert&rsquo;), the standard NodeJS assertion module</p><h4 class=CHeading>Returns</h4><p>module</p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Nodespec.Functions"></a>Functions</h3></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="Nodespec.abandon"></a>abandon</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">Nodespec.prototype.abandon = function abandon()</td></tr></table></blockquote><p>Forget this nodespec function</p><p>Subsequent calls to nodespec() with the same name as this instance will return a fresh instance instead of the usual behaviour.</p><h4 class=CHeading>Example</h4><blockquote><pre>var nodespec = require('nodespec');
var another = nodespec('another');
another.abandon();
var again = nodespec('another');
another !== again;</pre></blockquote></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="Nodespec.require"></a>require</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>Nodespec.prototype.require = function(</td><td class="PParameter  prettyprint " nowrap>target</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Require nodespec test definition files without executing them</p><p>This function is currently the recommended way to load a test suite that spans multiple files and then executing it all at once.&nbsp; See the example below.</p><h4 class=CHeading>Arguments</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>target</td><td class=CDLDescription>{string} The path to load, as with the usual nodejs require function</td></tr></table><h4 class=CHeading>Example</h4><blockquote><pre>// Note that glob isn't an actual built-in NodeJS function
var files = glob('spec/*_spec.js');
for (var i in files) {
   nodespec.require(files[i]);
}</pre></blockquote></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="Nodespec.describe"></a>describe</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>Nodespec.prototype.describe = function describe(</td><td class="PParameter  prettyprint " nowrap>description,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>options,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>definition</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Create an <a href="example-group-js.html#ExampleGroup" class=LClass id=link28 onMouseOver="ShowTip(event, 'tt4', 'link28')" onMouseOut="HideTip('tt4')">ExampleGroup</a> to describe some behaviour</p><h4 class=CHeading>Arguments</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>description</td><td class=CDLDescription>{string} The title of the behaviour being described</td></tr><tr><td class=CDLEntry>[options]</td><td class=CDLDescription>{options} Any additional options to be passed to the <a href="example-group-js.html#ExampleGroup" class=LClass id=link29 onMouseOver="ShowTip(event, 'tt4', 'link29')" onMouseOut="HideTip('tt4')">ExampleGroup</a> constructor.</td></tr><tr><td class=CDLEntry>definition</td><td class=CDLDescription>{function} The group definition</td></tr></table><h4 class=CHeading>Returns</h4><p>{<a href="example-group-js.html#ExampleGroup" class=LClass id=link30 onMouseOver="ShowTip(event, 'tt4', 'link30')" onMouseOut="HideTip('tt4')">ExampleGroup</a>} The newly created example group</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="Nodespec.before"></a>before</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>Nodespec.prototype.before = function before(</td><td class="PParameter  prettyprint " nowrap>options,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>block</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Add a before hook to be run before all specs in the suite</p><h4 class=CHeading>Arguments</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>block</td><td class=CDLDescription>{function} The hook definition</td></tr></table><h4 class=CHeading>Returns</h4><p>{<a href="hook-js.html#Hook" class=LClass id=link31 onMouseOver="ShowTip(event, 'tt14', 'link31')" onMouseOut="HideTip('tt14')">Hook</a>} The newly added Hook object</p><p>The block will be executed before each spec on a fresh context, any exceptions or failed assertions will be treated as belonging to the spec being executed.&nbsp; The function can be defined in either procedural or asynchronous mode.</p><h4 class=CHeading>Procedural Usage</h4><p><b>this</b> within the function is bound to the test context, the following example makes <b>&rsquo;value&rsquo;</b> available in every test as <b>this.variable</b>.</p><blockquote><pre>nodespec.before(function() {
  this.variable = 'value';
})</pre></blockquote><h4 class=CHeading>Asynchronous Usage</h4><p>If the function takes one argument, it is passed the test context and executed asynchronously, to signal completion you must call <b>done()</b>.&nbsp; The following example makes the <b>value</b> returned by the async function available to every test as <b>this.variable</b>.</p><blockquote><pre>  nodespec.before(function(hook) {
    async_function(function(err, value) {
      hook.variable = value;
      hook.done();
    });
  });

See also

  &lt;Nodespec.after&gt;, &lt;ExampleGroup.before&gt;, &lt;ExampleGroup.after&gt;</pre></blockquote></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="Nodespec.after"></a>after</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>Nodespec.prototype.after = function after(</td><td class="PParameter  prettyprint " nowrap>options,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>block</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Add an after hook to be run after all specs in the suite</p><h4 class=CHeading>Arguments</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>block</td><td class=CDLDescription>{function} The hook definition</td></tr></table><h4 class=CHeading>Returns</h4><p>{<a href="hook-js.html#Hook" class=LClass id=link32 onMouseOver="ShowTip(event, 'tt14', 'link32')" onMouseOut="HideTip('tt14')">Hook</a>} The newly added Hook object</p><p>The block is processed in the same way as &lt;nodespec.before&gt;, with one difference: if an assertion fails or an error is thrown in an after block, all other after blocks will still be run.</p><h4 class=CHeading>See also</h4><p><a href="#Nodespec.before" class=LFunction id=link33 onMouseOver="ShowTip(event, 'tt5', 'link33')" onMouseOut="HideTip('tt5')">Nodespec.before</a></p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="Nodespec.mockWith"></a>mockWith</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>Nodespec.prototype.mockWith = function mockWith(</td><td class="PParameter  prettyprint " nowrap>lib</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Load a pre-defined mocking library</p><h4 class=CHeading>Arguments</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>lib</td><td class=CDLDescription>{string} The name of a supported mocking library</td></tr></table><h4 class=CHeading>Supported libraries</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>sinon</td><td class=CDLDescription>Provides a sinon sandbox to each test as context.sinon (<a href="http://sinonjs.org" class=LURL target=_top>http://sinonjs.org</a>).</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="Nodespec.registerFormatter"></a>registerFormatter</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>Nodespec.prototype.registerFormatter = function registerFormatter(</td><td class="PParameter  prettyprint " nowrap>name,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>file,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>set_default</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Add an additional formatter</p><h4 class=CHeading>Arguments</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>name</td><td class=CDLDescription>{string} Name of formatter</td></tr><tr><td class=CDLEntry>file</td><td class=CDLDescription>{string} Module path to require, expected to export `Formatter`</td></tr><tr><td class=CDLEntry>set_default</td><td class=CDLDescription>{boolean} Make this the default formatter</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="Nodespec.run"></a>run</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>Nodespec.prototype.run = function run(</td><td class="PParameter  prettyprint " nowrap>emitter,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>callback</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Run all specs currently defined for this suite</p><h4 class=CHeading>Arguments</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>emitter</td><td class=CDLDescription>{EventEmitter} Event emitter to record runner events</td></tr><tr><td class=CDLEntry>callback</td><td class=CDLDescription>{function} Callback fired on completion of execution</td></tr><tr><td class=CDLEntry>callback.err</td><td class=CDLDescription>{Error} undefined or an exception object</td></tr><tr><td class=CDLEntry>callback.result</td><td class=CDLDescription>{&lt;Result&gt;} if err is undefined, this will contain a summary of the test run</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="Nodespec.exec"></a>exec</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">Nodespec.prototype.exec = function()</td></tr></table></blockquote><p>Execute all specs currently defined for this suite</p><p>Note that this function will conclude with a call to process.exit</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="Nodespec.instrument"></a>instrument</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>Nodespec.prototype.instrument = function(</td><td class="PParameter  prettyprint " nowrap>source,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>filename,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>context</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Add coverage instrumentation to some source code, necessary to get coverage if you are using eval or the vm module as part of the test suite.</p><p>If code coverage is not being collected, this function is a no-op</p><h4 class=CHeading>Arguments</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>source</td><td class=CDLDescription>the source code of the module</td></tr><tr><td class=CDLEntry>filename</td><td class=CDLDescription>the filename of the module being instrumented</td></tr><tr><td class=CDLEntry>[context]</td><td class=CDLDescription>the evaluation context to be used, required to add the special instrumentation functions.&nbsp; Only necessary if running the code sandboxed</td></tr></table></div></div></div>

</div><!--Content-->


<div id=Footer>Last updated 27th April 2012&nbsp; &middot;&nbsp; <a href="http://www.naturaldocs.org">Generated by Natural Docs</a></div><!--Footer-->


<div id=Menu><div class=MTitle>nodespec<div class=MSubTitle>Descriptive unit testing for NodeJS</div></div><div class=MEntry><div class=MFile id=MSelected>nodespec module</div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent1')">Classes</a><div class=MGroupContent id=MGroupContent1><div class=MEntry><div class=MFile><a href="example-group-js.html">ExampleGroup</a></div></div><div class=MEntry><div class=MFile><a href="example-js.html">Example</a></div></div><div class=MEntry><div class=MFile><a href="hook-js.html">Hook</a></div></div></div></div></div><div class=MEntry><div class=MIndex><a href="../index/Classes.html">Full Class List</a></div></div><div class=MEntry><div class=MIndex><a href="../index/Functions.html">Method List</a></div></div><div class=MEntry><div class=MIndex><a href="../index/Properties.html">Property List</a></div></div><script type="text/javascript"><!--
var searchPanel = new SearchPanel("searchPanel", "HTML", "../search");
--></script><div id=MSearchPanel class=MSearchPanelInactive><input type=text id=MSearchField value=Search onFocus="searchPanel.OnSearchFieldFocus(true)" onBlur="searchPanel.OnSearchFieldFocus(false)" onKeyUp="searchPanel.OnSearchFieldChange()"><select id=MSearchType onFocus="searchPanel.OnSearchTypeFocus(true)" onBlur="searchPanel.OnSearchTypeFocus(false)" onChange="searchPanel.OnSearchTypeChange()"><option value="Classes">Classes</option><option value="Functions">Functions</option><option value="Properties">Properties</option></select></div></div><!--Menu-->



<!--START_ND_TOOLTIPS-->
<div class=CToolTip id="tt1"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">Nodespec.prototype.abandon = function abandon()</td></tr></table></blockquote>Forget this nodespec function</div></div><div class=CToolTip id="tt2"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>Nodespec.prototype.require = function(</td><td class="PParameter  prettyprint " nowrap>target</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Require nodespec test definition files without executing them</div></div><div class=CToolTip id="tt3"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>Nodespec.prototype.describe = function describe(</td><td class="PParameter  prettyprint " nowrap>description,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>options,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>definition</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Create an ExampleGroup to describe some behaviour</div></div><div class=CToolTip id="tt4"><div class=CClass>A collection of sub-groups and specs describing some behaviour</div></div><div class=CToolTip id="tt5"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>Nodespec.prototype.before = function before(</td><td class="PParameter  prettyprint " nowrap>options,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>block</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Add a before hook to be run before all specs in the suite</div></div><div class=CToolTip id="tt6"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>Nodespec.prototype.after = function after(</td><td class="PParameter  prettyprint " nowrap>options,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>block</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Add an after hook to be run after all specs in the suite</div></div><div class=CToolTip id="tt7"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>Nodespec.prototype.mockWith = function mockWith(</td><td class="PParameter  prettyprint " nowrap>lib</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Load a pre-defined mocking library</div></div><div class=CToolTip id="tt8"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>Nodespec.prototype.registerFormatter = function registerFormatter(</td><td class="PParameter  prettyprint " nowrap>name,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>file,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>set_default</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Add an additional formatter</div></div><div class=CToolTip id="tt9"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>Nodespec.prototype.run = function run(</td><td class="PParameter  prettyprint " nowrap>emitter,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>callback</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Run all specs currently defined for this suite</div></div><div class=CToolTip id="tt10"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">Nodespec.prototype.exec = function()</td></tr></table></blockquote>Execute all specs currently defined for this suite</div></div><div class=CToolTip id="tt11"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>Nodespec.prototype.instrument = function(</td><td class="PParameter  prettyprint " nowrap>source,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>filename,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>context</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Add coverage instrumentation to some source code, necessary to get coverage if you are using eval or the vm module as part of the test suite.</div></div><div class=CToolTip id="tt12"><div class=CFunction>Create another top-level nodespec container, keyed by name</div></div><div class=CToolTip id="tt13"><div class=CClass>Describes a single piece of behaviour</div></div><div class=CToolTip id="tt14"><div class=CClass>Standard wrapper for hook functions</div></div><!--END_ND_TOOLTIPS-->




<div id=MSearchResultsWindow><iframe src="" frameborder=0 name=MSearchResults id=MSearchResults></iframe><a href="javascript:searchPanel.CloseResultsWindow()" id=MSearchResultsWindowClose>Close</a></div>


<script language=JavaScript><!--
if (browserType) {if (browserVer) {document.write("</div>"); }document.write("</div>");}// --></script></body></html>